(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{142:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(15),r=n.n(c),i=(n(93),n(14)),l=n(8),s=n(60),u=n.n(s),d=n(39),m=n(81),f=n(82),b=n.n(f),h="https://www.omdbapi.com",p=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(0),s=Object(i.a)(r,2),f=(s[0],s[1]),p=Object(a.useState)(e||[]),g=Object(i.a)(p,2),v=g[0],E=g[1],O=Object(a.useState)(""),j=Object(i.a)(O,2),w=j[0],y=j[1],S=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a,o,r,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"movie",a=i.length>2&&void 0!==i[2]?i[2]:1,console.log("enters search"),e.next=5,b.a.get("".concat(h,"/?apikey=").concat("d5b790c9","&s=").concat(t,"&type=").concat(n,"&page=").concat(a));case 5:o=e.sent,console.log(o),"True"===o.data.Response?(r=o.data.Search.map((function(e){return v.findIndex((function(t){return t.imdbID===e.imdbID}))>=0?Object(d.a)(Object(d.a)({},e),{},{selected:!0}):Object(d.a)(Object(d.a)({},e),{},{selected:!1})})),f(o.data.totalResults),c(r),y("")):(f(0),c([]),y(o.data.Error));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=o.findIndex((function(t){return t.imdbID===e})),n=Object(l.a)(o);n[t].selected=!0,c(n),E((function(e){return localStorage.setItem("nominations",JSON.stringify([].concat(Object(l.a)(e),[n[t]]))),[].concat(Object(l.a)(e),[n[t]])}))},I=function(e){E((function(t){var n=Object(l.a)(t),a=n.findIndex((function(t){return t.imdbID===e}));return n.splice(a,1),localStorage.setItem("nominations",JSON.stringify(n)),n})),c((function(t){var n=Object(l.a)(t),a=n.findIndex((function(t){return t.imdbID===e}));return a>0?(n[a].selected=!1,n):t}))};return[o,v,w,S,k,I]},g=n(83),v=n.n(g),E=n(164),O=n(165),j=n(170),w=n(167),y=n(166),S=n(80),k=n(58),I=n.n(k),C=n(59),x=n.n(C),N=n(57),T=n.n(N),Y=function(e,t,n){var a={color:"#c6ff00"};return"results"===t?e.selected?(a.label="Added ".concat(e.Title," (").concat(e.Year,") to nomination"),a.disabled=!0,a.color="#bdbdbd",a.icon=o.a.createElement(T.a,null)):(a.label="Adds ".concat(e.Title," (").concat(e.Year,") to nomination"),a.disabled=!1,a.icon=o.a.createElement(I.a,null)):"nominations"===t&&e.selected&&(a.label="Removed ".concat(e.Title," (").concat(e.Year,") from nomination"),a.disabled=!1,a.color="#f50057",a.icon=o.a.createElement(x.a,null)),o.a.createElement(S.a,{"aria-label":a.label,style:{color:a.color},onClick:function(){return n(e.imdbID)},disabled:a.disabled},a.icon)},D=Object(E.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"50%",height:"100%"},icon:{color:"#c6ff00"}}}));function J(e){var t=e.results,n=(e.error,e.title),a=e.type,c=void 0===a?"results":a,r=e.handleClick,i=D();return o.a.createElement(O.a,{cellHeight:200,className:i.gridList,cols:2},o.a.createElement(j.a,{key:"Subheader",cols:2,style:{height:"auto"}},o.a.createElement(y.a,{component:"div"},n)),t.length>0?t.map((function(e){return o.a.createElement(j.a,{key:"".concat(e.Poster,"-").concat(e.Year)},o.a.createElement("img",{src:e.Poster,alt:e.Title}),o.a.createElement(w.a,{title:"".concat(e.Title),subtitle:o.a.createElement("span",null,e.Year),actionIcon:Y(e,c,r)}))})):o.a.createElement(j.a,{key:"message",cols:2,style:{height:"auto"}},o.a.createElement(y.a,{component:"div"},"Nothing to Show")))}var R=n(168),A=n(169);function W(e){return o.a.createElement(A.a,Object.assign({elevation:6,variant:"filled"},e))}var B=Object(E.a)((function(e){return{root:{width:"100%",height:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function L(e){var t=e.open,n=e.handleClose,a=B();return o.a.createElement("div",{className:a.root},o.a.createElement(R.a,{open:t,onClose:n},o.a.createElement(W,{onClose:n,severity:"warning"},"You have selected the maximum of 5 nominations!")))}var P=function(){var e=p(JSON.parse(localStorage.getItem("nominations"))||[]),t=Object(i.a)(e,6),n=t[0],c=t[1],r=t[2],l=t[3],s=t[4],u=t[5],d=Object(a.useState)(""),m=Object(i.a)(d,2),f=m[0],b=m[1],h=Object(a.useState)(!1),g=Object(i.a)(h,2),E=g[0],O=g[1];return o.a.createElement("div",{className:"App"},o.a.createElement(L,{open:E,handleClose:function(e,t){"clickaway"!==t&&O(!1)}}),o.a.createElement(v.a,{value:f,onChange:function(e){return b(e)},onRequestSearch:function(){return l(f)},onCancelSearch:function(){return b("")}}),o.a.createElement("div",{className:"details-container"},c.length>=5&&o.a.createElement("div",{style:{background:"yellow"}},"You have nominated the maximum of 5 movies!"),o.a.createElement("span",{className:"search-results"},o.a.createElement(J,{results:n,title:"Search Results",handleClick:function(e){c.length<5&&s(e)}})),o.a.createElement("span",{className:"nominations"},o.a.createElement(J,{results:c,error:r,title:"Nominations",type:"nominations",handleClick:function(e){return u(e)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){e.exports=n(142)},93:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.af341285.chunk.js.map